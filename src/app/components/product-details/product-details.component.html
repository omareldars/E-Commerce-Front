<!-- Begin Li's Breadcrumb Area -->
<div class="breadcrumb-area">
  <div class="container">
    <div class="breadcrumb-content">
      <ul>
        <li><a href="/home">Home</a></li>
        <li class="active">Single Product Tab Left</li>
      </ul>
    </div>
  </div>
</div>
<!-- Li's Breadcrumb Area End Here -->
<!-- content-wraper start -->
<div class="content-wraper">
  <div class="container">
    <div class="row single-product-area">
      <div class="col-lg-5 col-md-6">
        <!-- Product Details Left -->
        <div class="product-details-left sp-tab-style-left-page">
          <div class="product-details-images slider-navigation-1">
            <div class="lg-image" style="margin-top:21%;">
              <a class="popup-img venobox vbox-item" href="../assets/images/product/large-size/1.jpg" data-gall="myGallery">
                <img [src]="'http://localhost:3000/' + product?.photo" alt="product image">
              </a>
            </div>
          </div>
        </div> 
        <!--// Product Details Left -->
      </div>

      <div class="col-lg-7 col-md-6">
        <div class="product-details-view-content pt-60">
          <div class="product-info">
            <h2>{{product?.title}}</h2>
            <span class="product-details-ref"></span>
            <div class="rating-box pt-20">
              <ul class="rating rating-with-review-item">
                <div class="rating-box">
                  <ngb-rating *ngIf="userData"
                  [max]="5"
                  [(rate)]="currentRate"
                  (click)="userData.role=='ROLE_MEMBER'?rateProduct(product._id):null"
                  [readonly]="userData.role=='ROLE_MEMBER'?false:true"
                ></ngb-rating>
                <ngb-rating *ngIf="!authorized"
                    [max]="5"
                    [(rate)]="currentRate"
                    [readonly]="true"
                  ></ngb-rating>
                </div>
                 <li class="review-item"><a  href="#" data-toggle="modal" data-target="#mymodal" >Write Review</a></li> 

              </ul>
            </div>
            <div class="modal fade modal-wrapper" id="mymodal" >
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-body">
                    <h3 class="review-page-title">Write Your Review</h3>
                    <div class="modal-inner-area row">
                      <div class="col-lg-6">
                        <div class="li-review-product">
                          <img [src]="'http://localhost:3000/' + product?.photo" alt="product image" width="350" height="400">
                          <div class="li-review-product-desc">
                            <p class="li-product-name">{{product?.title}}</p>
                            <p>
                              <span> {{product?.description}} </span>
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="li-review-content"> 
                          <!-- Begin Feedback Area -->
                          <div class="feedback-area">
                            <div class="feedback">
                              <h3 class="feedback-title">Our Feedback</h3>
                              <form action="#" [formGroup]="profileForm" method="post">
                                <p class="your-opinion">
                                  <label>Your Rating</label>
                                  <span>
                                    <select formControlName="rating" #Rating name="rating">
                                      <option value="1">1</option>
                                      <option value="2">2</option>
                                      <option value="3">3</option>
                                      <option value="4">4</option>
                                      <option value="5">5</option>
                                    </select>
                                  </span>
                                </p>
                                <p class="feedback-form">
                                  <label for="feedback">Your Review</label>
                                  <textarea id="feedback" formControlName="review" #Review name="comment" cols="45" rows="8" aria-required="true"></textarea>
                                </p>
                                <div class="feedback-input">
                                  
                                  <div class="feedback-btn pb-15">
                                    <a href="#" class="close" data-dismiss="modal" aria-label="Close">Close</a>
                                    <a (click)="rateProduct(product._id)">Submit</a>
                                  </div>
                                </div>
                              </form>
                            </div>
                          </div>
                          <!-- Feedback Area End Here -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div> 
            <div class="price-box pt-20">
              <span class="new-price new-price-2">{{product?.price}} EGP</span>
            </div>
            <div class="product-desc">
              <p>
                <span>{{product?.description}}</span>
              </p>
            </div>
           
            <div class="single-add-to-cart">
              <form action="#" class="cart-quantity">
               
                <button (click)="addToCart(product)" class="add-to-cart" type="submit">Add to cart</button>
              </form>
            </div>
            <div class="product-additional-info pt-25">
              <a class="wishlist-btn"   (click)="addtoWishlist(product._id)"><i class="fa fa-heart-o"></i>Add to wishlist</a>
             
            </div>
           
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- content-wraper end -->
<!-- Begin Product Area -->
<div class="product-area pt-35">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="li-product-tab">
          <ul class="nav li-product-menu">
            <!-- <li><a class="active" data-toggle="tab" href="#description"><span>Description</span></a></li>
            <li><a data-toggle="tab" href="#product-details"><span>Product Details</span></a></li> -->
            <li><a data-toggle="tab" href="#reviews" (click)="getAllReviews(product._id)"><span>Reviews</span></a></li>
          </ul>
        </div>
        <!-- Begin Li's Tab Menu Content Area -->
      </div>
    </div>
    <div class="tab-content">
      <div id="description" class="tab-pane active show" role="tabpanel">
        <div class="product-description">
          <!-- <span>The best is yet to come! Give your walls a voice with a framed poster. This aesthethic, optimistic poster will look great in your desk or in an open-space office. Painted wooden frame with passe-partout for more depth.</span> -->
        </div>
      </div>
      <div id="product-details" class="tab-pane" role="tabpanel">
        <div class="product-details-manufacturer">
          <a href="#">
            <img src="../assets/images/product-details/1.jpg" alt="Product Manufacturer Image">
          </a>
          <p><span>Reference</span> demo_7</p>
          <p><span>Reference</span> demo_7</p>
        </div>
      </div>
      <div id="reviews" class="tab-pane" role="tabpanel" >
        <div class="product-reviews" *ngFor="let review of AllProductReviews">
          <div class="product-details-comment-block">
            <div class="comment-review">
              <!-- <span>{{review.rating}}</span> -->
              <ngb-rating
                        [max]="5"[(rate)]="review.rating" [readonly]="true"></ngb-rating>
             
            </div>
            <div class="comment-author-infos pt-25">
              <span>{{review.review}}</span>
          
              <em>{{review.created}}</em>
            </div>

              
            <!-- Quick View | Modal Area End Here -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

